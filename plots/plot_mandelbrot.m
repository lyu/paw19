clear;clc;


n           = 2:32;

mandel      = [2.04971e+07 3.37845e+07 3.98733e+07 4.89843e+07 7.10129e+07 8.23752e+07 7.45933e+07 1.03468e+08 9.13671e+07 1.22143e+08 1.39852e+08 1.45921e+08 1.52722e+08 1.65253e+08 1.375e+08   1.87761e+08 1.94443e+08 2.02946e+08 1.6974e+08  2.22785e+08 2.28895e+08 2.45771e+08 2.41982e+08 2.03113e+08 2.65604e+08 2.7172e+08  2.77811e+08 2.92941e+08 2.90027e+08 4.06054e+08 3.28642e+08];
mandel_ctx  = [2.95886e+07 4.44382e+07 5.85851e+07 7.30589e+07 8.80394e+07 1.02347e+08 1.1594e+08  1.30682e+08 1.43791e+08 1.58447e+08 1.7274e+08  1.85969e+08 1.9892e+08  2.13132e+08 2.25391e+08 2.40299e+08 2.52785e+08 2.66488e+08 2.78906e+08 2.9219e+08  3.06869e+08 3.18661e+08 3.32327e+08 3.44091e+08 3.57525e+08 3.69757e+08 3.82646e+08 3.96179e+08 4.0722e+08  4.35938e+08 4.4504e+08];
mandel_pure = [2.93944e+07 4.52557e+07 6.03148e+07 7.53723e+07 9.06037e+07 1.05604e+08 1.20668e+08 1.35869e+08 1.50017e+08 1.65502e+08 1.80222e+08 1.94981e+08 2.09855e+08 2.24635e+08 2.39212e+08 2.54297e+08 2.69243e+08 2.83936e+08 2.98711e+08 3.13876e+08 3.27817e+08 3.42658e+08 3.5741e+08  3.7182e+08  3.87435e+08 4.02209e+08 4.17032e+08 4.32289e+08 4.46633e+08 4.61269e+08 4.73974e+08];

figure;
plot(n, mandel, '--s', n, mandel_ctx, '-x', n, mandel_pure, '-.o', 'LineWidth', 1);
pbaspect([1.2 1 1]);
xlim([2 32]);
xticks(2:2:32);
xlabel('Number of Nodes', 'Interpreter', 'latex');
ylabel('Aggregated Work Rate (points/s)', 'Interpreter', 'latex');
legend('Single-context', 'Multi-context', 'Pure SHMEM', 'Location', 'SouthEast', 'Interpreter', 'latex');
legend boxoff;
title('Mandelbrot Set Computation', 'Interpreter', 'latex');
set(gcf, 'Position', [800, 600, 540, 450]);
saveas(gcf, 'plot_mandel', 'epsc');
