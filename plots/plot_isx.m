clear;clc;


n        = 2:32;

isx      = [2.50817  3.64819 4.69267 5.44885 6.18487 6.67618 7.68389 8.27339 8.94197 9.74595 10.6694  11.4168  11.9247  12.7443  13.4785  14.2962  15.1015  15.8299  16.5451  17.5678  18.4346  19.311   20.1982  21.138   21.8086  22.0823  22.5419  24.0353  24.8214  26.5867  27.7276] ./ 100;
isx_ctx  = [0.822477 1.14437 1.38388 1.45359 1.58161 1.63997 1.72123 1.78588 1.8381  1.86344  1.90882  1.95131  2.00213  2.0462   2.09841  2.14585  2.20748  2.26188  2.40844  2.57478  2.70844  2.8562   3.09105  3.54917  3.98887  4.23458  4.42604  4.96887  5.45148  6.0691  6.30823] ./ 100;
isx_pure = [0.782533 1.10313 1.38479 1.5666  1.74193 1.88662 2.0304  2.18122 2.32244 2.45817  2.61293  2.75536  2.88607  3.02337  3.16431  3.29464  3.44705  3.58341  3.77253  4.00747  4.18822  4.42332  4.60414  5.71836  6.17659  6.41886  6.55321  7.09729  7.73928  8.2297   8.42772] ./ 100;

figure;
semilogy(n, isx, '--s', n, isx_ctx, '-x', n, isx_pure, '-.o', 'LineWidth', 1);
pbaspect([1.2 1 1]);
xlim([2 32]);
xticks(2:2:32);
xlabel('Number of Nodes', 'Interpreter', 'latex');
ylabel('Iteration Time (msec)', 'Interpreter', 'latex');
legend('Single-context', 'Multi-context', 'Single-threaded', 'Location', 'SouthEast', 'Interpreter', 'latex');
legend boxoff;
title('ISx All-to-All Exchange', 'Interpreter', 'latex');
set(gcf, 'Position', [800, 600, 540, 450]);
saveas(gcf, 'plot_isx', 'epsc');
